<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel='preconnect' href='https://fonts.googleapis.com'>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
    <link href='https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Sora:wght@400;500;600;700&family=Cousine:wght@400;700&display=swap' rel='stylesheet'>
    <title>Guide - Don't Lose Your Job</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #faf7f1;
            color: #1f1c18;
            line-height: 1.7;
            min-height: 100vh;
        }

        a {
            color: #a35d2c;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
        }

        a:hover {
            color: #703b16;
            text-decoration: underline;
        }

        .container {
            width: 92.5%;
            max-width: none;
            margin: 0 auto;
            padding: 0 0 120px;
            background: transparent;
        }

        .content-wrapper {
            width: 100%;
            margin: 0 auto;
        }

        .site-header {
            position: static;
            backdrop-filter: blur(12px);
            background: rgba(255, 255, 255, 0.95);
            border-bottom: 1px solid #e6e0d4;
        }

        .header-inner {
            width: 92.5%;
            margin: 0 auto;
            padding: 20px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 24px;
        }

        .header-brand {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .publication-title {
            font-family: 'Sora', sans-serif;
            font-size: 1.4rem;
            letter-spacing: 0.02em;
        }

        .publication-tagline,
        .author-link {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            font-weight: 600;
        }

        .publication-tagline {
            color: #5c564f;
        }

        .author-link {
            color: #6ba3d4;
            text-decoration: none;
            transition: color 0.3s;
        }

        .author-link:hover {
            color: #4a8bc2;
        }

        .header-actions {
            display: flex;
            gap: 24px;
            align-items: center;
        }

        .header-btn {
            background: #fdf8f0;
            color: #1f1c18;
            border: 1px solid #e6e0d4;
            border-radius: 6px;
            padding: 14px 32px;
            font-size: 1.05rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .header-btn:hover {
            background: #f5eee0;
            border-color: #d9d2c4;
            color: #000000;
        }

        .header-btn.active {
            background: #1f1c18;
            color: #ffffff;
            border-color: #1f1c18;
            box-shadow: 0 12px 28px rgba(31, 28, 24, 0.2);
        }

        .guide-article {
            width: 100%;
        }

        .article-hero {
            padding: 96px 0 48px;
            border-bottom: 1px solid #e6e0d4;
            margin-bottom: 48px;
        }
        .article-hero h1 {
            font-family: 'Sora', sans-serif;
            font-size: clamp(2.8rem, 4vw, 3.6rem);
            letter-spacing: -0.015em;
            font-weight: 600;
            margin-top: 18px;
        }

        .lede {
            color: #5c564f;
            max-width: 48ch;
            margin-top: 16px;
            font-size: 1.18rem;
        }

        .meta-line {
            display: flex;
            gap: 16px;
            align-items: center;
            margin-top: 24px;
            font-size: 0.85rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: #8c857d;
        }

        .article-body {
            width: min(1200px, 95%);
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 48px;
            padding-bottom: 120px;
        }

        .metr-intro {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 32px;
            align-items: start;
        }

        .metr-brand-card,
        .metr-chart-card {
            background: #fdf8f0;
            border: 1px solid #e6e0d4;
            border-radius: 18px;
            padding: 28px;
            box-shadow: 0 24px 60px rgba(15, 23, 42, 0.06);
        }

        .metr-chart-card canvas {
            width: 100%;
            height: 260px;
        }

        .metr-brand-link {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .metr-brand-link img {
            width: 56px;
            height: auto;
        }

        .metr-brand-text {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .metr-brand-title {
            font-family: 'Sora', sans-serif;
            font-size: 1.15rem;
            letter-spacing: 0.1em;
            color: #1f1c18;
            text-transform: uppercase;
        }

        .metr-brand-subtitle {
            font-size: 0.95rem;
            color: #5c564f;
        }

        .metr-figure {
            background: #ffffff;
            border: 1px solid #e6e0d4;
            border-radius: 18px;
            padding: 20px;
            box-shadow: 0 24px 60px rgba(15, 23, 42, 0.05);
        }

        .metr-figure img {
            width: 100%;
            height: auto;
            border-radius: 12px;
        }

        .metr-figure figcaption {
            margin-top: 12px;
            font-size: 0.9rem;
            color: #6b635a;
        }

        .chart-note {
            margin-top: 18px;
            font-size: 0.92rem;
            color: #5c564f;
        }

        @media (max-width: 960px) {
            .metr-intro {
                gap: 24px;
            }
        }

        .article-body section {
            background: #ffffff;
            border: 1px solid #e6e0d4;
            border-radius: 24px;
            padding: 40px 44px;
            box-shadow: 0 32px 80px rgba(15, 23, 42, 0.05);
        }

        .article-body h2 {
            font-family: 'Sora', sans-serif;
            font-size: 1.8rem;
            margin-bottom: 24px;
            color: #1f1c18;
        }

        .article-body h3 {
            font-family: 'Sora', sans-serif;
            font-size: 1.2rem;
            margin: 32px 0 16px;
            color: #1f1c18;
        }

        .article-body p {
            margin-bottom: 1.4em;
            color: #3f392f;
        }

        code {
            font-family: 'Cousine', 'Menlo', monospace;
            font-size: 0.95rem;
            background: #f5efe4;
            color: #3b3326;
            padding: 0 4px;
            border-radius: 4px;
        }

        blockquote {
            border-left: 4px solid #d2c7b8;
            padding-left: 20px;
            margin: 24px 0;
            color: #5c564f;
            font-style: italic;
        }

        .equation-callout {
            margin: 24px 0;
            padding: 20px 24px;
            border-left: 4px solid #d2c7b8;
            background: #fefbf5;
            border-radius: 18px;
        }

        .callout-label {
            display: block;
            font-size: 0.8rem;
            letter-spacing: 0.12em;
            color: #3b3326;
            text-transform: uppercase;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .equation-display {
            font-size: 1.1rem;
            color: #3b3326;
            overflow-x: auto;
            padding: 8px 0;
        }

        .detail-list {
            list-style: none;
            padding: 0;
            margin: 0 0 24px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .detail-list li {
            background: #fefbf5;
            border: 1px solid #eadfce;
            border-radius: 16px;
            padding: 16px 20px;
            color: #3f392f;
        }

        .detail-list li strong {
            display: block;
            font-family: 'Sora', sans-serif;
            font-size: 0.95rem;
            margin-bottom: 4px;
        }

        .insight-callout {
            border-left: 4px solid #d2c7b8;
            background: #fdf7ed;
            border-radius: 18px;
            padding: 18px 22px;
            color: #3f392f;
            font-size: 0.95rem;
        }

        .insight-callout strong {
            font-family: 'Sora', sans-serif;
        }

        ol.action-list {
            counter-reset: step;
            list-style: none;
            padding: 0;
            margin: 0 0 24px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        ol.action-list li {
            counter-increment: step;
            position: relative;
            padding: 18px 20px 18px 54px;
            background: #fefbf5;
            border: 1px solid #eadfce;
            border-radius: 18px;
            color: #3f392f;
        }

        ol.action-list li::before {
            content: counter(step);
            position: absolute;
            left: 18px;
            top: 18px;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #1f1c18;
            color: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: 600;
        }

        @media (max-width: 900px) {
            .header-inner {
                width: 94%;
            }

            .article-hero {
                padding: 72px 0 40px;
            }

            .article-body section {
                padding: 32px;
            }
        }

        @media (max-width: 640px) {
            .header-inner {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            .header-actions {
                width: 100%;
            }

            .header-btn {
                flex: 1;
            }

            .article-hero h1 {
                font-size: clamp(2.2rem, 7vw, 2.8rem);
            }

            .lede {
                font-size: 1.05rem;
            }

            .article-body section {
                padding: 28px;
            }

            ol.action-list li {
                padding: 16px 18px 16px 48px;
            }

            ol.action-list li::before {
                left: 14px;
                top: 16px;
            }
        }
    </style>
</head>

<body>
    <header class='site-header'>
        <div class='header-inner'>
            <div class='header-brand'>
                <span class='publication-title'>Don't Lose Your Job</span>
                <span class='publication-tagline'>Forecasting work in the age of AI</span>
                <a href='https://x.com/wrenclay' target='_blank' class='author-link'>Clay Wren</a>
            </div>
            <div class='header-actions'>
                <button class='header-btn' data-page='/'>Calculator</button>
                <button class='header-btn active' data-page='/guide'>Guide</button>
            </div>
        </div>
    </header>

    <main class='container'>
        <div class='content-wrapper'>
            <article class='guide-article'>
                <header class='article-hero'>
                    <h1>Understanding the Job Automation Risk Calculator</h1>
                    <p class='lede'>This notebook walks through the hazard model that powers the calculator so you can interpret the curves, pressure-test scenarios, and translate the output into career choices.</p>
                    <div class='meta-line'>
                        <span>Updated October 2025</span>
                    </div>
                </header>

                <div class='article-body'>

                    <section class="metr-intro">

                        <div class="metr-brand-card">

                            <a class="metr-brand-link" href="https://metr.org/blog/2025-03-19-measuring-ai-ability-to-complete-long-tasks/" target="_blank" rel="noopener noreferrer">

                                <img src="images/metr-logo.svg" alt="METR logo">

                                <div class="metr-brand-text">

                                    <span class="metr-brand-title">METR</span>

                                    <span class="metr-brand-subtitle">Measuring AI ability to complete long tasks</span>

                                </div>

                            </a>

                            <p>METR's March 2025 study tracks how long a generalist frontier agent can work autonomously before its success rate drops below a chosen threshold. Their task-length horizon has compounded by roughly seven months per doubling since 2019, giving us a grounded baseline rather than guessing at capability curves.</p>

                            <p>We treat their 80% success horizon as the point where work is not just technically solvable but production ready. That anchor flows directly into the blue curve on the calculator: it sets the horizon of the METR task buckets, the logistic coverage bar, and the compute/friction adjustments you change with the sliders.</p>

                            <ul class="detail-list">

                                <li><strong>Task horizon feed:</strong> METR's hours at 80% success become our base \(H_{50,0}\), stretched by domain penalties when your role leans tacit, physical, or trust heavy.</li>

                                <li><strong>Logistic gate:</strong> Once the reconstructed readiness \(A_{\text{job}}(t)\) clears the seniority-specific coverage bar \(\theta\), we open the hazard channel described in the next section.</li>

                                <li><strong>Scenario levers:</strong> Compute growth, industry drag, and your questionnaire weights rescale the METR trend but never overwrite it, so the shape always honors their observed doubling cadence.</li>

                            </ul>

                        </div>

                        <figure class="metr-figure">

                            <img src="images/metr-length-of-tasks-linear.png" alt="METR linear task horizon trend">

                            <figcaption>Linear horizon chart reproduced from <a href="https://metr.org/blog/2025-03-19-measuring-ai-ability-to-complete-long-tasks/" target="_blank" rel="noopener noreferrer">METR</a>. Toggle their interactive view to 80% success to match the reconstruction below.</figcaption>

                        </figure>

                        <div class="metr-chart-card">

                            <canvas id="metr-80-chart" aria-label="Reconstructed METR 80% success trend" role="img"></canvas>

                            <p class="chart-note">We recompute METR's published dataset locally to plot the 80% success horizon in hours. Estimated doubling time: <span id="metr-80-doubling">~7.0 months</span>.</p>

                        </div>

                    </section>
                    <section>
                        <h2>What the calculator actually simulates</h2>
                        <p>The experience you see on the main page builds on a stacked hazard template: separate channels track AI capability, macro cycles, firm execution, role design, and personal leverage. The framework stays in place even when some channels are empty.</p>
                        <div class='equation-callout'>
                            <span class='callout-label'>Survival relationship</span>
                            <div class='equation-display'>$$P_{\text{loss}}(t) = 1 - \exp\left(-\int_0^t \lambda_{\text{total}}(s)\, ds\right)$$</div>
                        </div>
                        <p>In this release you are seeing $\lambda_{\text{total}}(s) = \lambda_{\text{AI}}(s)$: the macro, firm, role, and personal hazard channels are parked at zero until we have calibrated data. The AI hazard feeds the blue technical-feasibility curve, the green adoption curve after the implementation delay, and the re-employment card.</p>
                        <ul class='detail-list'>
                            <li><strong>AI hazard:</strong> METR task-length data map capability progress into the blue curve.</li>
                            <li><strong>Adaptability delay:</strong> firm and personal answers shift the AI hazard forward in time to produce the green curve.</li>
                            <li><strong>Re-employment likelihood:</strong> adaptability and transferable skill questions translate into the percentage you see on the dashboard.</li>
                        </ul>
                        <div class='equation-callout'>
                            <span class='callout-label'>AI hazard core</span>
                            <div class='equation-display'>$$\lambda_{\text{AI}}(s) = \frac{h_{\max}}{1 + \exp\!\big(-\gamma (A_{\text{job}}(s) - \theta)\big)} \cdot M_{\text{user}}(s)$$</div>
                        </div>
                        <p>The hazard turns on once METR readiness clears the coverage bar. We let the METR 50% horizon shrink at the chosen doubling pace, stretch that horizon by a domain-alignment penalty for non-software work, pass it through METR's task buckets, and feed the resulting readiness into the logistic gate. Questionnaire multipliers only scale the hazard after that gate.</p>
                        <ul class='detail-list'>
                            <li><strong>Task horizon $H_r(t)$:</strong> $$H_r(t) = \frac{H_{50,0} \cdot p_{\text{domain}} \cdot f(r)}{2^{(t \cdot 12)/D_{\text{eff}}}}$$ where $D_{\text{eff}}$ is the METR doubling time adjusted by compute growth and industry friction, $f(r)$ is the reliability stretch, and $p_{\text{domain}}\ge 1$ enlarges the horizon when your answers signal tacit or physical work.</li>
                            <li><strong>Task buckets:</strong> five duration buckets reuse METR's software/reasoning anthology. Each bucket uses $$G_i(H) = \frac{1}{1 + \exp\!\left(-\frac{\ln H - \ln L_i}{s}\right)}$$ so faster models (lower $H$) lift readiness.</li>
                            <li><strong>Readiness $A_{\text{job}}(t)$:</strong> $$A_{\text{job}}(t) = \sum_i w_i G_i(H_r(t))$$ with seniority shifting weight toward longer tasks and softening the logistic slope for leadership roles.</li>
                            <li><strong>Coverage bar $\theta$:</strong> starts near $0.50$ for entry roles and rises with seniority via the profile you pick.</li>
                            <li><strong>User multipliers $M_{\text{user}}(s)$:</strong> questionnaire responses exponentiate into amplifier and friction sums, apply a seniority shield, and are finally capped between $0.33\times$ and $3\times$.</li>
                        </ul>
                        <p>We still integrate the hazard with Simpson's rule to get the blue technical-feasibility curve.</p>
                    </section>

                    <section>
                        <h2>How your answers move the curve</h2>
                        <p>Every prompt in the wizard maps to a coded value $x_i$. All sliders use the same coding rule: Likert 1..5 responses convert to the symmetric set $\{-2,-1,0,+1,+2\}$ (i.e., $1\to -2, 3\to 0, 5\to +2$). Effects run in the correct direction via the weight's sign. The model tracks two channels: an amplifier sum $\sum w_{\text{amp}} x_i$ and a friction sum $\sum w_{\text{fric}} x_i$. After clamping each sum to $[-2, 2]$ we exponentiate them, multiply the results, apply seniority hazard shield, then bound the overall multiplier to $[0.33, 3.0]$ for responsiveness.</p>
                        <p>The prompts cluster into four themes:</p>
                        <ul class='detail-list'>
                            <li><strong>AI readiness (Q1-Q4):</strong> high scores strengthen the amplifier channel when you report top-tier models, abundant data, crisp benchmarks, and digitized workflows.</li>
                            <li><strong>Task structure (Q5-Q9):</strong> structured, decomposable tasks (Q5, Q6 high) accelerate adoption via the amplifier channel, while tacit knowledge (Q9) and context dependency (Q7) feed the protective friction channel and the domain-alignment penalty. Rapid feedback loops (Q8) amplify risk by helping AI learn faster.</li>
                            <li><strong>Human moat (Q10-Q12):</strong> relationship intensity, physical presence, and trust demands all load the friction side and stretch the METR baseline via the domain penalty, pushing the curve out.</li>
                            <li><strong>Firm and personal context (Q13-Q20):</strong> company levers shape implementation delay. Job performance (Q20) delays displacement for top performers while also helping re-employment. Adaptability questions (Q17, Q19) drive re-employment probability.</li>
                        </ul>
                        <p>The model also adjusts the gate steepness $\gamma$ based on task characteristics. Structured work, fast feedback, and standardized tasks sharpen the S-curve; messy, collaborative, or bespoke work flattens it. This captures whether adoption snaps into place once the threshold is crossed or grinds along for years.</p>
                        <div class='insight-callout'>
                            <p><strong>Calibration:</strong> the model is validated on each page load. Setting Q1, Q4, and Q6 to five yields roughly a $2.5\times$ hazard boost versus neutral answers, while stacking protective responses (Q7, Q9, Q11 high) suppresses the hazard by about $50\%$, delays implementation by $\geq 0.7$ years, and pushes the domain penalty above $~2\times$ so readiness clears METR later.</p>
                        </div>
                    </section>

                    <section>
                        <h2>Implementation delay and the green curve</h2>
                        <p>The green actual job-loss curve is the same hazard shifted forward by the implementation delay we derive from company context and individual leverage. Q13 through Q16 look at adoption appetite, labor cost pressure, labor-market tightness, and infrastructure. Q18 (complementarity) and Q20 (job performance) help retain top performers, delaying job loss.</p>
                        <div class='equation-callout'>
                            <span class='callout-label'>Delay function</span>
                            <div class='equation-display'>$$\text{delay} = \operatorname{clip}(1.75 - 1.25 s_{\text{delay}}, 0.5, 3.0) + \Delta_{\text{seniority}},\quad s_{\text{delay}} \in [-2,2],\; \Delta_{\text{seniority}} \in \{-0.4,-0.1,+0.2,+0.4,+0.6\}$$</div>
                        </div>
                        <p>Positive scores mean less delay: an early-adopting firm with high wage pressure can collapse the gap toward $0.5$ years, while defensive environments stretch it beyond three. Senior leaders pick up additive shifts (up to +0.6 years) because coordinated change takes longer at the top.</p>
                        <p>Re-employment odds pull from the adaptability prompts. We start at $60\%$, add or subtract up to $20$ points based on transferable skills and learning speed, subtract up to $30$ points if the median technical hazard lands within three years, and then apply the seniority boost from the profile (roughly +0% to +10%). The result is clamped between $10\%$ and $85\%$ &mdash; nobody is guaranteed, but nobody is written off.</p>
                    </section>

                    <section>
                        <h2>Reading the outputs</h2>
                        <p>The chart shows two survival complements: blue for technical feasibility and green for realized displacement once friction and delay kick in. Because we integrate $\lambda(s)$ with Simpson's rule, the area under each curve is the cumulative probability that automation has already happened.</p>
                        <ul class='detail-list'>
                            <li><strong>Median timeline:</strong> we binary-search for the year where cumulative probability hits $50\%$. That becomes the headline median job-loss metric.</li>
                            <li><strong>Risk by 2030 or 2031:</strong> the model evaluates $P_{\text{loss}}$ at $5.35$ and $6.35$ years from $2024.65$, matching the scenario years shown on the card.</li>
                            <li><strong>Personal timeline:</strong> we surface the $25\%$, $50\%$, $75\%$, and $90\%$ milestones when they fall within the next $10$, $15$, $18$, and $25$ years respectively so you can see the near-term thresholds.</li>
                            <li><strong>Re-employment label:</strong> the probability is bucketed into Good, Moderate, Low, or Very Low for quick scanning, with the precise percentage alongside.</li>
                        </ul>
                        <p>Use the growth sliders to stress-test assumptions. Shorter doubling settings or faster inferred pace shrink $d$ and pivot both curves left. Answers that raise $s_e$ or ease the coverage bar $\theta$ have the same effect, while higher rollout friction $\lambda$ or stubborn implementation drag pushes the green curve out, signaling a slower adoption grind. High scores on Q7-Q12 also stretch $p_{\text{domain}}$, so even fast doubling must cover more ground before matching METR's software baselines.</p>
                    </section>

                    <section>
                        <h2>How to work with the model</h2>
                        <p>The calculator is most useful when you treat it like a scenario notebook rather than an oracle. A few patterns from user research help:</p>
                        <ol class='action-list'>
                            <li>Start with the preset that feels closest to your role, then tweak one cluster of questions at a time so you can see which dimensions move the hazard.</li>
                            <li>Stress-test the extremes: set AI readiness to five while leaving friction high, then flip it. The distance between those runs is a map of where to invest your energy.</li>
                            <li>Pair the re-employment score with the green curve. A fast hazard plus weak re-employment is the trigger for up-skilling or a job search; a slow hazard plus strong re-employment buys time for deliberate moves.</li>
                        </ol>
                        <p>Remember that this model isolates the AI capability channel. Macro cycles, regulation, leadership changes, and your own agency remain outside the frame. Use the weight structure as a checklist: strengthen the protective items you can influence, document the assumptions you cannot, and revisit the calculator as real-world signals shift.</p>
                    </section>
                </div>
            </article>
        </div>
    </main>

    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js"></script>
    <script>
        (function() {
            const canvas = document.getElementById('metr-80-chart');
            if (!canvas) return;

            const points = [
                { label: '2019-02-14', model: 'GPT-2', hours: 0.005646 },
                { label: '2020-05-28', model: 'Davinci-002', hours: 0.034119 },
                { label: '2022-03-15', model: 'GPT-3.5 Turbo Instruct', hours: 0.173085 },
                { label: '2023-03-14', model: 'GPT-4', hours: 0.965175 },
                { label: '2023-11-06', model: 'GPT-4 (Nov 2023)', hours: 1.453006 },
                { label: '2024-01-25', model: 'GPT-4 (Jan 2024)', hours: 1.197496 },
                { label: '2024-03-04', model: 'Claude 3 Opus', hours: 1.125572 },
                { label: '2024-04-09', model: 'GPT-4 Turbo', hours: 1.523202 },
                { label: '2024-05-13', model: 'GPT-4o', hours: 1.689572 },
                { label: '2024-06-07', model: 'Qwen 2 72B', hours: 0.424603 },
                { label: '2024-06-20', model: 'Claude 3.5 Sonnet', hours: 3.199280 },
                { label: '2024-09-12', model: 'o1 Preview', hours: 4.619420 },
                { label: '2024-09-19', model: 'Qwen 2.5 72B', hours: 0.933300 },
                { label: '2024-10-22', model: 'Claude 3.5 Sonnet (Oct)', hours: 4.640773 },
                { label: '2024-12-05', model: 'o1 Elicited', hours: 5.973358 },
                { label: '2024-12-26', model: 'DeepSeek V3', hours: 3.860789 },
                { label: '2025-01-20', model: 'DeepSeek R1', hours: 4.332735 },
                { label: '2025-02-24', model: 'Claude 3.7 Sonnet', hours: 15.156049 },
                { label: '2025-03-24', model: 'DeepSeek V3 (Mar)', hours: 5.305094 },
                { label: '2025-04-16', model: 'o3', hours: 20.389159 },
                { label: '2025-04-16', model: 'o4 Mini', hours: 15.047173 },
                { label: '2025-05-22', model: 'Claude 4 Opus', hours: 20.300219 },
                { label: '2025-05-22', model: 'Claude 4 Sonnet', hours: 16.659787 },
                { label: '2025-05-28', model: 'DeepSeek R1 (May)', hours: 3.750648 },
                { label: '2025-06-05', model: 'Gemini 2.5 Pro Preview', hours: 9.199105 },
                { label: '2025-07-09', model: 'Grok 4', hours: 14.911130 },
                { label: '2025-08-05', model: 'Claude 4.1 Opus', hours: 21.087887 },
                { label: '2025-08-05', model: 'GPT-OSS 120B', hours: 6.632316 },
                { label: '2025-08-07', model: 'GPT-5', hours: 26.372464 },
                { label: '2025-09-29', model: 'Claude Sonnet 4.5', hours: 20.151826 }
            ];

            const labels = points.map(point => point.label);
            const values = points.map(point => point.hours);
            const msPerMonth = 1000 * 60 * 60 * 24 * 30.4375;
            const base = new Date(labels[0]).getTime();
            const months = labels.map(label => (new Date(label).getTime() - base) / msPerMonth);
            const logValues = values.map(value => Math.log(value));

            let sumX = 0;
            let sumY = 0;
            let sumXY = 0;
            let sumXX = 0;
            const n = months.length;
            for (let i = 0; i < n; i += 1) {
                const x = months[i];
                const y = logValues[i];
                sumX += x;
                sumY += y;
                sumXY += x * y;
                sumXX += x * x;
            }

            const denominator = n * sumXX - sumX * sumX;
            const slope = denominator === 0 ? 0 : (n * sumXY - sumX * sumY) / denominator;
            const intercept = (sumY - slope * sumX) / n;
            const fit = months.map(x => Math.exp(intercept + slope * x));
            const doubling = slope === 0 ? Number.POSITIVE_INFINITY : Math.log(2) / slope;
            const doublingNode = document.getElementById('metr-80-doubling');
            if (doublingNode) {
                doublingNode.textContent = Number.isFinite(doubling) ? `~${doubling.toFixed(1)} months` : 'n/a';
            }

            // Set canvas size before creating chart to prevent expansion loop
            canvas.style.width = '100%';
            canvas.style.height = '260px';
            canvas.width = canvas.offsetWidth;
            canvas.height = 260;

            new Chart(canvas, {
                type: 'line',
                data: {
                    labels,
                    datasets: [
                        {
                            label: '80% success horizon (hours)',
                            data: values,
                            borderColor: '#1f6feb',
                            backgroundColor: 'rgba(31, 111, 235, 0.18)',
                            tension: 0.25,
                            fill: true,
                            pointRadius: 4,
                            pointHoverRadius: 6
                        },
                        {
                            label: 'Exponential fit',
                            data: fit,
                            borderColor: '#ff7f0e',
                            borderDash: [6, 4],
                            borderWidth: 2,
                            tension: 0.25,
                            fill: false,
                            pointRadius: 0
                        }
                    ]
                },
                options: {
                    responsive: false,
                    maintainAspectRatio: false,
                    interaction: { intersect: false, mode: 'index' },
                    scales: {
                        y: {
                            title: { display: true, text: 'Hours at 80% success' },
                            ticks: {
                                callback(value) {
                                    return value >= 1 ? value.toFixed(0) : value.toFixed(2);
                                }
                            }
                        },
                        x: {
                            title: { display: true, text: 'Model release' },
                            ticks: { maxRotation: 60, minRotation: 45 }
                        }
                    },
                    plugins: {
                        legend: { display: true },
                        tooltip: {
                            callbacks: {
                                label(context) {
                                    const point = points[context.dataIndex];
                                    if (!point || context.datasetIndex !== 0) {
                                        const label = context.dataset.label || '';
                                        return `${label}: ${context.formattedValue} h`;
                                    }
                                    return `${point.model}: ${context.formattedValue} h`;
                                }
                            }
                        }
                    }
                }
            });
        }());
    </script>
    <script src='https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js' async></script>
    <script src='navigation.js'></script>
</body>

</html>
